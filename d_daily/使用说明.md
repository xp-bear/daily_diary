# 每日日记 - 使用说明

## 🚀 快速开始

### 1. 启动后端服务

```bash
# 进入后端目录
cd server

# 安装依赖
npm install

# 配置数据库
# 编辑 .env 文件，设置MySQL连接信息
# DB_HOST=localhost
# DB_PORT=3306
# DB_USER=root
# DB_PASSWORD=你的密码
# DB_NAME=daily_diary

# 启动服务
npm start
```

后端服务将在 http://localhost:3000 启动，并自动创建数据库和表。

### 2. 启动前端应用

```bash
# 在项目根目录

# 安装依赖
npm install

# 配置API地址
# 编辑 utils/config.js
# export const API_BASE_URL = 'http://你的IP:3000/api';

# 运行H5版本
npm run dev:h5

# 或运行微信小程序
npm run dev:mp-weixin
```

### 3. 注册账号

1. 打开应用，进入注册页面
2. 填写用户名、昵称、密码等信息
3. 点击"注册"按钮
4. 注册成功后自动登录

### 4. 开始使用

#### 写日记
1. 在首页点击"写日记"按钮
2. 选择日期、心情、天气
3. 输入日记内容
4. 可以添加图片或视频（最多9个）
5. 点击"保存"

#### 查看日记
1. 在首页日历中点击有标记的日期
2. 预览日记内容
3. 点击"查看详情"查看完整内容
4. 可以编辑或删除日记

#### 搜索日记
1. 进入"我的"页面
2. 点击"搜索日记"
3. 输入关键词
4. 查看搜索结果

#### 查看统计
1. 进入"我的"页面
2. 点击"心情统计"
3. 查看各项数据统计和图表

## 📋 功能说明

### 首页（日历视图）
- **月份切换**: 点击左右箭头切换月份
- **今天按钮**: 快速回到今天
- **日期标记**: 有日记的日期显示小圆点
- **日期选择**: 点击日期查看或编辑该日日记
- **悬浮按钮**: 快速写日记

### 写日记页面
- **日期显示**: 显示当前编辑的日期
- **心情选择**: 8种心情emoji可选
- **天气选择**: 8种天气emoji可选
- **内容编辑**: 支持最多5000字
- **添加媒体**: 支持图片和视频，最多9个
- **字数统计**: 实时显示字数

### 日记详情页面
- **完整内容**: 显示完整日记内容
- **图片查看**: 点击图片可全屏预览
- **视频播放**: 支持在线播放视频
- **编辑按钮**: 快速进入编辑模式
- **删除按钮**: 删除当前日记

### 日记列表页面
- **筛选功能**: 
  - 按年份筛选
  - 按月份筛选
  - 按心情筛选
- **排序**: 按时间倒序显示
- **预览**: 显示日记摘要和缩略图
- **统计信息**: 顶部显示总体统计

### 搜索页面
- **关键词搜索**: 输入关键词搜索日记内容
- **结果高亮**: 搜索关键词高亮显示
- **结果统计**: 显示找到的日记数量

### 统计页面
- **数据总览**: 
  - 记录天数
  - 总字数
  - 连续天数
  - 日均字数
- **心情分布**: 
  - 各种心情的次数和占比
  - 进度条可视化
- **天气分布**: 
  - 各种天气的记录次数
  - 网格布局展示
- **月度统计**: 
  - 每月日记数量
  - 柱状图展示

### 我的页面
- **用户信息**: 显示头像、昵称、用户名
- **快捷统计**: 总天数、连续天数、总字数
- **功能菜单**: 
  - 全部日记
  - 搜索日记
  - 心情统计
  - 编辑资料（开发中）
  - 修改密码（开发中）
  - 写日记提醒（开发中）
  - 备份与恢复（开发中）
  - 关于应用
- **退出登录**: 安全退出

## 💡 使用技巧

### 1. 坚持记录
- 设置每天固定时间写日记
- 查看"连续天数"激励自己
- 即使很忙也可以简短记录

### 2. 多媒体记录
- 用图片记录美好瞬间
- 用视频保存珍贵回忆
- 图文结合更生动

### 3. 搜索技巧
- 使用关键词搜索特定事件
- 搜索人名找相关日记
- 搜索地点回忆旅行

### 4. 数据分析
- 定期查看心情统计
- 了解自己的情绪变化
- 发现生活规律

## ⚠️ 注意事项

### 数据安全
- 定期备份重要日记
- 牢记登录密码
- 不要在公共设备登录

### 图片视频
- 上传前检查内容
- 注意文件大小
- 删除日记会同时删除媒体文件

### 性能优化
- 避免上传过大的视频
- 图片会自动压缩优化
- 定期清理不需要的日记

## 🔧 常见问题

### Q1: 如何修改密码？
A: 进入"我的"页面，点击"修改密码"（功能开发中，暂时需要联系管理员）

### Q2: 能否导出日记？
A: 备份导出功能正在开发中，敬请期待

### Q3: 日记会同步到云端吗？
A: 日记存储在服务器数据库中，只要服务器运行就可以随时访问

### Q4: 支持哪些平台？
A: 支持H5、微信小程序、支付宝小程序、APP等多个平台

### Q5: 图片和视频存储在哪里？
A: 默认使用阿里云OSS存储，确保访问速度和安全性

### Q6: 忘记密码怎么办？
A: 可以通过注册时填写的邮箱或手机号找回（功能开发中）

## 📞 技术支持

如遇到问题或有建议，欢迎反馈：
- 检查后端服务是否正常运行
- 查看控制台错误信息
- 确认网络连接正常
- 查看API配置是否正确

## 🎯 最佳实践

1. **每天记录**: 养成每天写日记的习惯
2. **真实记录**: 记录真实的想法和感受
3. **多样记录**: 文字、图片、视频结合使用
4. **定期回顾**: 翻看过去的日记，回忆美好时光
5. **保护隐私**: 注意保管好登录信息

---

**祝您使用愉快！记录生活，留住美好时光！** 📝✨
